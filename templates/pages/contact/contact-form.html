{% extends "base_subpage.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/about.css' %}">
<link rel="stylesheet" href="{% static 'css/contact.css' %}">
<style>
    .contact-form-section { padding: 4rem 0 5rem; background: #f8fafc; }
    .contact-form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: start; }
    .contact-form-info { position: sticky; top: 120px; }
    .contact-form-info h2 { font-size: 2.25rem; color: #003366; margin-bottom: 1rem; }
    .contact-form-info h2 em { font-style: italic; color: #004080; }
    .contact-form-info > p { color: #666; font-size: 1.05rem; line-height: 1.8; margin-bottom: 2rem; }
    .contact-detail { display: flex; gap: 1rem; align-items: flex-start; margin-bottom: 1.5rem; }
    .contact-detail i { font-size: 1.1rem; color: #004080; margin-top: 0.2rem; width: 20px; text-align: center; flex-shrink: 0; }
    .contact-detail div strong { display: block; color: #003366; font-size: 0.95rem; margin-bottom: 0.2rem; }
    .contact-detail div p { color: #666; font-size: 0.95rem; margin: 0; line-height: 1.5; }
    .contact-card { background: #fff; padding: 2.5rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
    .contact-card h3 { font-size: 1.5rem; color: #003366; margin-bottom: 0.5rem; }
    .contact-card > p { color: #666; font-size: 0.95rem; margin-bottom: 2rem; }
    .contact-field { margin-bottom: 1.25rem; }
    .contact-field label { display: block; font-size: 0.85rem; font-weight: 700; color: #003366; margin-bottom: 0.4rem; text-transform: uppercase; letter-spacing: 0.5px; }
    .contact-input { width: 100%; padding: 0.85rem 1rem; font-size: 1rem; font-family: inherit; border: 1px solid #ccc; background: #fff; color: #333; transition: border-color 0.3s ease; }
    .contact-input:focus { outline: none; border-color: #004080; }
    .contact-textarea { resize: vertical; min-height: 120px; }
    .contact-input.error { border-color: #e53e3e; }
    .field-error { color: #e53e3e; font-size: 0.8rem; margin-top: 0.3rem; }
    .contact-submit { display: inline-flex; align-items: center; gap: 0.5rem; padding: 1rem 2rem; background: #004080; color: #fff; font-size: 1rem; font-weight: 600; font-family: inherit; border: none; cursor: pointer; transition: background 0.3s ease; }
    .contact-submit:hover { background: #003366; }
    .contact-success { background: #ecfdf5; border: 1px solid #6ee7b7; padding: 1.25rem 1.5rem; margin-bottom: 2rem; color: #065f46; font-size: 0.95rem; display: flex; align-items: center; gap: 0.75rem; }
    .contact-success i { font-size: 1.2rem; color: #10b981; }
    @media (max-width: 1024px) {
        .contact-form-grid { grid-template-columns: 1fr; gap: 2rem; }
        .contact-form-info { position: static; }
    }
    @media (max-width: 768px) {
        .contact-card { padding: 1.75rem; }
    }
</style>
{% endblock %}

{% block title %}Contact Us - TIU{% endblock %}

{% block content %}
<section class="page-hero" style="background-image: url('{% static 'img/hero/back1.jpg' %}');">
    <div class="page-hero-content">
        <nav class="page-hero-breadcrumb">
            <a href="/">Home</a>
            <span class="separator"><i class="fas fa-chevron-right"></i></span>
            <span>Contact</span>
            <span class="separator"><i class="fas fa-chevron-right"></i></span>
            <span class="current">Contact Us</span>
        </nav>
        <div class="page-hero-category">Contact</div>
        <h1 class="page-hero-title">Contact Us</h1>
        <div class="page-hero-description">
            <p>Have a question? Send us a message and our team will get back to you within 1-2 business days.</p>
        </div>
    </div>
    <div class="page-hero-gradient-bar"></div>
</section>

<section class="contact-form-section">
    <div class="container">
        <div class="contact-form-grid">
            <div class="contact-form-info">
                <h2>Get in <em>touch</em></h2>
                <p>Whether you're a prospective student, parent, employer, or just curious about TIU â€” we'd love to hear from you. Fill out the form or reach us directly using the details below.</p>

                <div class="contact-detail">
                    <i class="fas fa-map-marker-alt"></i>
                    <div>
                        <strong>Address</strong>
                        <p>{{ site_settings.address|default:"Tashkent, Uzbekistan" }}</p>
                    </div>
                </div>
                <div class="contact-detail">
                    <i class="fas fa-phone"></i>
                    <div>
                        <strong>Phone</strong>
                        <p>{{ site_settings.phone|default:"+998 71 XXX XX XX" }}</p>
                    </div>
                </div>
                <div class="contact-detail">
                    <i class="fas fa-envelope"></i>
                    <div>
                        <strong>Email</strong>
                        <p>{{ site_settings.email|default:"info@tiu.uz" }}</p>
                    </div>
                </div>
                <div class="contact-detail">
                    <i class="fas fa-clock"></i>
                    <div>
                        <strong>Office Hours</strong>
                        <p>Monday - Friday: 9:00 AM - 6:00 PM<br>Saturday: 9:00 AM - 1:00 PM</p>
                    </div>
                </div>
            </div>

            <div class="contact-card">
                <h3>Send a message</h3>
                <p>All fields are required. We typically respond within 1-2 business days.</p>

                {% if messages %}
                {% for message in messages %}
                <div class="contact-success">
                    <i class="fas fa-check-circle"></i>
                    <span>{{ message }}</span>
                </div>
                {% endfor %}
                {% endif %}

                <form method="post" action="{% url 'core:contact' %}">
                    {% csrf_token %}

                    <div class="contact-field">
                        <label for="id_name">Full Name</label>
                        {{ form.name }}
                        {% if form.name.errors %}<div class="field-error">{{ form.name.errors.0 }}</div>{% endif %}
                    </div>

                    <div class="contact-field">
                        <label for="id_email">Email Address</label>
                        {{ form.email }}
                        {% if form.email.errors %}<div class="field-error">{{ form.email.errors.0 }}</div>{% endif %}
                    </div>

                    <div class="contact-field">
                        <label for="id_topic">Topic</label>
                        {{ form.topic }}
                        {% if form.topic.errors %}<div class="field-error">{{ form.topic.errors.0 }}</div>{% endif %}
                    </div>

                    <div class="contact-field">
                        <label for="id_message">Message</label>
                        {{ form.message }}
                        {% if form.message.errors %}<div class="field-error">{{ form.message.errors.0 }}</div>{% endif %}
                    </div>

                    <button type="submit" class="contact-submit">
                        Send Message <i class="fas fa-paper-plane"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}
