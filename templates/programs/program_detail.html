{% extends "base_subpage.html" %}
{% load static i18n i18n_fields %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/programs.css' %}">
<link rel="stylesheet" href="{% static 'css/news.css' %}">
{% endblock %}

{% block title %}{{ program|trans_field:"title" }} - {% trans "TIU" %}{% endblock %}

{% block content %}
{% include "includes/page_hero.html" %}

<section class="evlist-section">
    <div class="container">
        <div class="newsdetail-layout">
            <!-- Left sidebar -->
            <aside class="evlist-sidebar">
                <div class="evlist-sidebar-inner">
                    <!-- Programme details -->
                    <div class="evlist-filter-group">
                        <label class="evlist-filter-label">{% trans "Programme details" %}</label>

                        <div class="evdetail-info-list">
                            <div class="evdetail-info-row">
                                <i class="fas fa-graduation-cap"></i>
                                <div>
                                    <span class="evdetail-info-label">{% trans "Level" %}</span>
                                    <span class="evdetail-info-value">{{ program.get_level_display }}</span>
                                </div>
                            </div>
                            <div class="evdetail-info-row">
                                <i class="fas fa-university"></i>
                                <div>
                                    <span class="evdetail-info-label">{% trans "Department" %}</span>
                                    <span class="evdetail-info-value">{{ program.department|trans_field:"name" }}</span>
                                </div>
                            </div>
                            {% if program.duration %}
                            <div class="evdetail-info-row">
                                <i class="fas fa-clock"></i>
                                <div>
                                    <span class="evdetail-info-label">{% trans "Duration" %}</span>
                                    <span class="evdetail-info-value">{{ program.duration }}</span>
                                </div>
                            </div>
                            {% endif %}
                            <div class="evdetail-info-row">
                                <i class="fas fa-briefcase"></i>
                                <div>
                                    <span class="evdetail-info-label">{% trans "Study Type" %}</span>
                                    <span class="evdetail-info-value">{{ program.get_study_type_display }}</span>
                                </div>
                            </div>
                            <div class="evdetail-info-row">
                                <i class="fas fa-language"></i>
                                <div>
                                    <span class="evdetail-info-label">{% trans "Language" %}</span>
                                    <span class="evdetail-info-value">{{ program.language }}</span>
                                </div>
                            </div>
                            {% if program.tuition_fee %}
                            <div class="evdetail-info-row">
                                <i class="fas fa-money-bill-wave"></i>
                                <div>
                                    <span class="evdetail-info-label">{% trans "Tuition Fee" %}</span>
                                    <span class="evdetail-info-value">{{ program.tuition_fee }}</span>
                                </div>
                            </div>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Share -->
                    <div class="evlist-filter-group">
                        <label class="evlist-filter-label">{% trans "Share this programme" %}</label>
                        <div class="newsdetail-share-links">
                            <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri }}" target="_blank" rel="noopener" class="newsdetail-share-btn newsdetail-share-fb" aria-label="{% trans "Share on Facebook" %}"><i class="fab fa-facebook-f"></i></a>
                            <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri }}&text={{ program|trans_field:"title"|urlencode }}" target="_blank" rel="noopener" class="newsdetail-share-btn newsdetail-share-tw" aria-label="{% trans "Share on X" %}"><i class="fab fa-x-twitter"></i></a>
                            <a href="https://t.me/share/url?url={{ request.build_absolute_uri }}&text={{ program|trans_field:"title"|urlencode }}" target="_blank" rel="noopener" class="newsdetail-share-btn newsdetail-share-tg" aria-label="{% trans "Share on Telegram" %}"><i class="fab fa-telegram-plane"></i></a>
                            <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ request.build_absolute_uri }}" target="_blank" rel="noopener" class="newsdetail-share-btn newsdetail-share-li" aria-label="{% trans "Share on LinkedIn" %}"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>

                    <!-- Related programmes -->
                    {% if related_programs %}
                    <div class="evlist-filter-group" style="border-bottom: none;">
                        <label class="evlist-filter-label">{% trans "Related programmes" %}</label>
                        <div class="newsdetail-related-list">
                            {% for prog in related_programs %}
                            <a href="{{ prog.get_absolute_url }}" class="newsdetail-related-item">
                                <span class="newsdetail-related-date">{{ prog.department|trans_field:"name"|upper }}</span>
                                <span class="newsdetail-related-title">{{ prog|trans_field:"title" }}</span>
                            </a>
                            {% endfor %}
                        </div>
                    </div>
                    {% endif %}

                    <a href="{% url 'programs:program_list' %}" class="newsdetail-back-link"><i class="fas fa-arrow-left"></i> {% trans "All" %} {{ program.get_level_display }} {% trans "programmes" %}</a>
                </div>
            </aside>

            <!-- Right side â€” programme content -->
            <article class="newsdetail-content">
                {% if program.image %}
                <div class="newsdetail-hero-img">
                    <img src="{{ program.image.url }}" alt="{{ program|trans_field:"title" }}" loading="lazy">
                </div>
                {% endif %}

                <div class="newsdetail-body">
                    {{ program|trans_field:"description"|safe }}
                </div>

                <!-- Apply CTA -->
                <div class="deadlines-cta-box" style="margin-top: 2.5rem;">
                    <h2>{% trans "Ready to apply?" %}</h2>
                    <p>{% trans "Start your application today or contact our admissions team to learn more about this programme." %}</p>
                    <a href="https://urolovforever.github.io/landingpage/" class="deadlines-cta-link">{% trans "Apply now" %} <i class="fas fa-arrow-right"></i></a>
                </div>
            </article>
        </div>
    </div>
</section>

<!-- Explore More -->
<section class="explore-more-section">
    <div class="container">
        <div class="explore-more-label">{% trans "EXPLORE MORE" %}</div>
        <div class="explore-more-links">
            <a href="{% url 'programs:program_list' %}" class="explore-more-link">{% trans "All Programmes" %} <i class="fas fa-arrow-right"></i></a>
            <a href="/admissions/tuition-fees/" class="explore-more-link">{% trans "Tuition & Fees" %} <i class="fas fa-arrow-right"></i></a>
            <a href="/admissions/scholarships/" class="explore-more-link">{% trans "Scholarships" %} <i class="fas fa-arrow-right"></i></a>
            <a href="/admissions/requirements/" class="explore-more-link">{% trans "Requirements" %} <i class="fas fa-arrow-right"></i></a>
        </div>
    </div>
</section>
{% endblock %}
